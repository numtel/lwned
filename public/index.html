<html>
<head>
<meta charset="UTF-8">
<title>Lwned</title>
<script src="deps/web3.min.js"></script>
<script src="deps/coinbase.min.js"></script>
<script src="deps/web3modal.min.js"></script>
<script src="wallet.js"></script>
</head>
<body style="white-space:pre-wrap; max-width:760px; margin:20px auto; padding: 20px;">
<script>
function decodeAscii(input) {
  let out = '';
  for(let i = 2; i<input.length; i+=2) {
    out += String.fromCharCode(parseInt(input.slice(i, i+2), 16));
  }
  return out;
}
(async function() {
  const config = await configPromise;
  const web3 = await web3ReadOnly();
  const page = decodeAscii(await web3.eth.call({
    to: config.contracts.LwnedFrontend.address,
    data: web3.eth.abi.encodeFunctionSignature('index()'),
  }));
  document.body.innerHTML = page;

})();
</script>
